CREATE OR REPLACE TRIGGER trg_repair_history_bi
BEFORE INSERT ON REPAIR_HISTORY
FOR EACH ROW
BEGIN
    IF :NEW.HISTORY_ID IS NULL THEN
        SELECT seq_repair_history.NEXTVAL INTO :NEW.HISTORY_ID FROM DUAL;
    END IF;
END;
/
ALTER TRIGGER trg_repair_history_bi ENABLE;
